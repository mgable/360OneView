<html>
<head>
	<title></title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" >
		<script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	<script src="angular.js"></script>
	<script src="../bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
</head>
<body ng-app="myApp">

	<div ng-controller="MainCtrl">
		<div first second template="./template.html"><a> and foo bar</a></div>

	</div>

	<script>
		var x = angular.module('myApp', []);

		// I will be the data for the popup
		x.directive('first', function(){
			return {
				priority:130,
				templateUrl: function(el, attrs){return attrs.template},
				compile:function ($element, $attrs, trans){
					console.info ('first link from compile')
					console.info($element);
					console.info($attrs);
					console.info(trans);
					return {
						pre: function preLink(scope, iElement, iAttrs, controller) { 
							console.info ("pre link from first"); 
							console.info ("scope"); 
							console.info (scope); 
						},
          				post: function postLink(scope, iElement, iAttrs, controller) { console.info ("post link from first") }
					}
				}
			}
		});

		// I will be the popUp
		x.directive('second', function(){
			return {
				priority:102,
				 transclude: false,
				compile:function (element, attrs, transclude){
					console.info ('second link compile')
					console.info(element);
					console.info(attrs);
					console.info(transclude);
					return {
						pre: function preLink(scope, iElement, iAttrs, controller) { console.info ("pre link from second") },
          				post: function postLink(scope, iElement, iAttrs, controller) { console.info ("post link from second") }
					}
				}
			}
		});

		x.controller('MainCtrl', function($scope){
			$scope.name = "Tripp";
			$scope.doIt = function (){
				console.info ("doing it");
			}
		});

		x.controller('FirstCtrl', function($scope){

		});


		x.controller('SecondCtrl', function($scope){

		});


		x.controller('ThirdCtrl', function($scope){
	
		});


		

	</script>

</body>
</html>