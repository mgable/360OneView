<div class="tray-holder">
	<div class="details">
		<div class="clearfix title-holder">
			<span ng-switch="selectedItem.isMaster || ! selectedItem">
				<span ng-switch-when="true" class="title"><icon ng-if="selectedItem.isMaster" type="marketshare"></icon>&nbsp;{{selectedItem.title}}</span>
				<span ng-switch-default>
					<inline-edit template="inline_rename" test="e2e" submitAction="CONFIG.renameAction" item="selectedItem" comparison-model="isScenarioTitleUnique"></inline-edit>
				</span>
			</span>
		</div>
		<ul class="button-group" ng-show="CONFIG.trayButtons">
			<li class="button-holder" ng-repeat="button in CONFIG.trayButtons">
				<button class="pull-left btn btn-default" ng-disabled="selectedItem.isMaster || !selectedItem" ng-click="action(button.action, selectedItem)" data-ms-id="trayActions.copy">
					<icon type="{{button.icon}}"></icon>&nbsp;{{button.label}}
				</button>
			</li>
		</ul>
	</div>

	<div class="well meta">
		<p class="description-label ms-label">Description</p>
		<span ng-switch="selectedItem.isMaster || ! selectedItem">
			<span ng-switch-when="true" class="description">{{item.description}}</span>
			<span ng-switch-default>
				<inline-edit template="inline_description" focusTarget="textarea" item="selectedItem" test="e2e" submitAction="CONFIG.editAction"></inline-edit>
			</span>
		</span>
		<span ng-if="selectedItem.createdBy">
			<p class="ms-label">Created By</p>
			 <p class="name">{{selectedItem.createdBy}},&nbsp;{{selectedItem.createdOn | date}}</p>
		</span>
		<span ng-if="selectedItem.modifiedBy">
			 <p class="ms-label">Modified by</p>
			 <p class="name">{{selectedItem.modifiedBy}},&nbsp;{{selectedItem.modifiedOn | date}}</p>
		</span>
	</div>

	<div class="well meta" ng-if="selectedItem.referenceScenario.name">
		<p class="ms-label">Base Scenario</p>
		<p data-ms-id="ScenarioListing:baseScenario">{{selectedItem.referenceScenario.name}}</p>
	</div>

	<div class="well relatedItems" ng-if="selectedItem.scenarios.length">
		<div class="relatedItems-holder">
			<p class="ms-label">Contains</p>
			<p class='field-label'>Total&nbsp;<span>{{selectedItem.scenarios.length}}</span>&nbsp;scenarios</p>
			<div class="item-holder" >
				<div class="item" ng-repeat="scenario in selectedItem.scenarios">
					<span ng-click="goto($event, 'gotoScenarioEdit', scenario)">{{scenario.title}}</span>
				</div>
			</div>
		</div>
	</div>

	<div class="well relatedItems" ng-if="selectedItem.scenarioElements.length">
		<div class="relatedItems-holder">
			<p class="ms-label">Contains</p>
			<p class='description-label'>Total&nbsp;<span>{{selectedItem.scenarioElements.length}}</span>&nbsp;scenarios elements</p>
			<div class="item-holder" >
				<div class="item" ng-repeat="element in selectedItem.scenarioElements | orderBy:['group','name']">
					<span ng-click="goto($event, 'gotoScenarioEdit', selectedItem, element.id)">{{element.title}}</span>
				</div>
			</div>
		</div>
	</div>
</div>